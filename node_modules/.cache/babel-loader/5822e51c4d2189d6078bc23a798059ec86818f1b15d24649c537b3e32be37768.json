{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\usuario\\\\Desktop\\\\Multioptica\\\\multiopticas\\\\src\\\\Pages\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport { Container, Grid, TextField, Button } from \"@mui/material\";\nimport { ForgetPsswrd } from \"../scripts/login\";\nimport '../Styles/login.css';\nimport logo from '../IMG/Multioptica.png';\nimport { useRef } from \"react\"; /**Este hook ayuda a referenciar un componente\r\n                                sin necesidad del getElementById */\nimport { useNavigate } from \"react-router-dom\"; /**Este hook ayuda a redireccionar\r\n                                                a una pagina diferente mediante el \"path\" */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst urlLogin = \"http://localhost/Multioptica/Users/controller/user.php?op=user\";\nconst sendData = async (urlAPI, data) => {\n  //De aqui\n  const resp = await fetch(urlAPI, {\n    //Realiza una peticion asincrona fetch para consumir una API segun su URL\n    method: \"post\",\n    //Se le indica el metodo a utilizar (sino se hace esto, el fetch toma el metodo \"Get\" por default)\n    body: JSON.stringify(data),\n    //Se le manda el data con el que se consumira el API\n    headers: {\n      //Se le especifica que enviara un json.\n      \"Content-Type\": \"application/json\"\n    }\n  }); //A aqui!!!!\n  //console.log(resp)\n  const json = await resp.json(); //Retorna los datos de la API y los convierte a json para utilizarlos despues\n  //console.log(json)\n\n  return json;\n  //SIEMPRE que se realiza una consulta a la bdd los metodos deben ser async\n};\n\nexport const Login = props => {\n  _s();\n  const navegate = useNavigate();\n  const refUsuario = useRef(null);\n  const refContrasenia = useRef(null);\n  const handleLogin = async () => {\n    const data = {\n      usuario: refUsuario.current.value,\n      clave: refContrasenia.current.value\n    };\n    const respJson = await sendData(urlLogin, data);\n    console.log(\"Respuesta desde el evento \", respJson[0].Estado_Usuario);\n    props.access(respJson[0].Estado_Usuario); //Paso la propiedad estado para cambiar el hook y poder iniciar sesion.\n    props.user(respJson[0].Nombre_Usuario);\n    if (respJson[0].Estado_Usuario === \"activo\") {\n      navegate(\"/Home\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"lg\",\n    id: \"login\",\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 8,\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        md: 4,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: logo,\n          width: \"400px\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 6,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          spacing: 0.5,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            md: 10,\n            xs: 12,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              id: \"loginContent\",\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Iniciar Sesion\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"espacio\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Usuario\",\n                  id: \"user\",\n                  size: \"small\",\n                  margin: \"dense\",\n                  ref: refUsuario\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 62,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"espacio\",\n                children: /*#__PURE__*/_jsxDEV(TextField, {\n                  label: \"Contrase\\xF1a\",\n                  id: \"password\",\n                  size: \"small\",\n                  margin: \"normal\",\n                  type: \"password\",\n                  ref: refContrasenia\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"espacio\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"contained\",\n                  onClick: handleLogin,\n                  children: \"Iniciar sesion\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 68,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"espacio\",\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  onClick: ForgetPsswrd,\n                  variant: \"contained\",\n                  children: \"\\xBFOlvidaste tu contrase\\xF1a?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"LBJfuqjolk52GxSTzyF6F+dPlu4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["Container","Grid","TextField","Button","ForgetPsswrd","logo","useRef","useNavigate","urlLogin","sendData","urlAPI","data","resp","fetch","method","body","JSON","stringify","headers","json","Login","props","navegate","refUsuario","refContrasenia","handleLogin","usuario","current","value","clave","respJson","console","log","Estado_Usuario","access","user","Nombre_Usuario"],"sources":["C:/Users/usuario/Desktop/Multioptica/multiopticas/src/Pages/Login.jsx"],"sourcesContent":["import {Container,Grid,TextField,Button} from \"@mui/material\";\r\nimport {ForgetPsswrd}  from \"../scripts/login\"\r\nimport '../Styles/login.css'\r\nimport logo from '../IMG/Multioptica.png'\r\nimport { useRef } from \"react\"; /**Este hook ayuda a referenciar un componente\r\nsin necesidad del getElementById */\r\nimport { useNavigate } from \"react-router-dom\"; /**Este hook ayuda a redireccionar\r\na una pagina diferente mediante el \"path\" */\r\nconst urlLogin =\"http://localhost/Multioptica/Users/controller/user.php?op=user\";\r\n\r\n\r\nconst sendData = async (urlAPI, data) => {\r\n  //De aqui\r\n  const resp = await fetch(urlAPI, {\r\n    //Realiza una peticion asincrona fetch para consumir una API segun su URL\r\n    method: \"post\", //Se le indica el metodo a utilizar (sino se hace esto, el fetch toma el metodo \"Get\" por default)\r\n    body: JSON.stringify(data), //Se le manda el data con el que se consumira el API\r\n    headers: {\r\n      //Se le especifica que enviara un json.\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }); //A aqui!!!!\r\n  //console.log(resp)\r\n  const json = await resp.json(); //Retorna los datos de la API y los convierte a json para utilizarlos despues\r\n  //console.log(json)\r\n\r\n  return json;\r\n  //SIEMPRE que se realiza una consulta a la bdd los metodos deben ser async\r\n};\r\n\r\nexport const Login = (props) => {\r\n  const navegate = useNavigate();\r\n  const refUsuario = useRef(null);\r\n  const refContrasenia = useRef(null);\r\n\r\n  const handleLogin = async () => {\r\n    const data = {\r\n      usuario: refUsuario.current.value,\r\n      clave: refContrasenia.current.value,\r\n    };\r\n    const respJson = await sendData(urlLogin, data);\r\n\r\n    console.log(\"Respuesta desde el evento \", respJson[0].Estado_Usuario);\r\n    props.access(respJson[0].Estado_Usuario); //Paso la propiedad estado para cambiar el hook y poder iniciar sesion.\r\n    props.user(respJson[0].Nombre_Usuario);\r\n    if (respJson[0].Estado_Usuario === \"activo\") {\r\n      navegate(\"/Home\");\r\n    }\r\n  };\r\n  return (\r\n    <Container maxWidth=\"lg\" id=\"login\">\r\n      <Grid container spacing={8}>\r\n        <Grid item xs={6} md={4}>\r\n            <img src={logo}  width=\"400px\"/>\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <Grid container spacing={0.5}>\r\n            <Grid item md={10} xs={12}>\r\n              <div id=\"loginContent\">\r\n                <h2>Iniciar Sesion</h2>\r\n                <div className=\"espacio\">\r\n                  <TextField label=\"Usuario\"id=\"user\" size=\"small\" margin=\"dense\" ref={refUsuario}/>\r\n                </div>\r\n                <div className=\"espacio\">\r\n                <TextField label=\"Contraseña\" id=\"password\" size=\"small\" margin=\"normal\"type=\"password\" ref={refContrasenia}/>\r\n                </div>\r\n                <div className=\"espacio\">\r\n                <Button variant=\"contained\" onClick={handleLogin}>Iniciar sesion</Button>\r\n                </div>\r\n                <div className=\"espacio\">\r\n                <Button onClick={ForgetPsswrd} variant=\"contained\">¿Olvidaste tu contraseña?</Button>\r\n                </div>\r\n              </div>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}